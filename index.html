
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #111827; color: #f3f4f6; }
    .card { background: #1f2937; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
    .muted { color: #d1d5db; }
    .chip { background: rgba(255,255,255,0.1); padding: 0.25rem 0.5rem; border-radius: 999px; font-size: 0.75rem; }
    .chart-img { max-width: 100%; height: auto; border-radius: 8px; }
    .border-card { border: 1px solid rgba(255,255,255,0.2); }
  </style>
</head>
<body class="p-6">
  <div class="max-w-6xl mx-auto">
    <header class="mb-6">
      <h1 class="text-2xl font-semibold">Portfolio Dashboard</h1>
      <p class="text-sm muted">BY AJTITAN</p>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left Column: Summary + Allocation -->
      <section class="lg:col-span-1 space-y-4">
        <div class="card p-4">
          <h2 class="text-lg font-medium">Summary</h2>
          <p id="summaryText" class="mt-2 text-sm muted"></p>
          <div class="mt-4">
            <h3 class="text-sm font-medium">Allocation</h3>
            <div id="allocationList" class="mt-2 space-y-2 text-sm"></div>
            <div class="mt-3">
              <img id="allocationChart" class="chart-img" alt="Allocation Chart" />
            </div>
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Risk Analysis</h2>
          <div id="riskSummary" class="mt-2 text-sm muted"></div>
          <div class="mt-3">
            <img id="riskChart" class="chart-img" alt="Risk Chart" />
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Education Tips</h2>
          <ul id="educationTips" class="mt-2 text-sm list-disc list-inside muted"></ul>
        </div>
      </section>

      <!-- Middle Column: Stocks + What-if + Mutual Funds + Diversifiers -->
      <section class="lg:col-span-2 space-y-4">
        <div class="card p-4">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-medium">Stocks Selected</h2>
            <span id="equityChip" class="chip">Equity Sleeve</span>
          </div>
          <div id="stocksGrid" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">What-if Analysis</h2>
          <div id="whatIfText" class="mt-2 text-sm muted"></div>
          <div class="mt-3">
            <img id="whatIfChart" class="chart-img" alt="What-if Chart" />
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Mutual Funds</h2>
          <div id="mfList" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3"></div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Diversifiers</h2>
          <div id="diversifiersList" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3"></div>
        </div>
      </section>
    </main>

    <footer class="mt-6 text-sm muted text-center">
      Generated view — charts are loaded from QuickChart / TradingView links present in the JSON.
    </footer>
  </div>

  <!-- Embedded JSON data -->
  <script id="portfolio-data" type="application/json">
   {
  "allocation": {
    "equity_sleeves": {
      "stocks": "97% and $19400"
    },
    "diversifiers": {
      "crypto": "3% and $600",
      "gold": "0% and $0",
      "bond_mutual_funds": "0% and $0"
    }
  },
  "chart_url_allocation": "https://quickchart.io/chart?c={type:'pie',data:{labels:['Stocks','Crypto'],datasets:[{data:[97,3]}]}}",
  "stocks_selected": [
    {
      "stock": "AAPL",
      "current_price": 247.66,
      "week_52_high": "260.10",
      "week_52_low": "169.21",
      "pe": "36.66",
      "pb": "55.29",
      "eps": "6.58",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.42",
      "total_debt_to_equity": "1.89",
      "revenue_growth_yoy": "5.97",
      "net_profit_margin": "24.30",
      "current_ratio": "0.83",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/ab90f5ed-cfc8-478a-8219-96bd346c47ee.png",
      "buy_link": "https://public.com/stocks/aapl",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Apple shows consistent revenue growth and strong profitability, indicating a stable and robust business model. Its high ROE suggests efficient management of shareholder equity."
      }
    },
    {
      "stock": "MSFT",
      "current_price": 514.05,
      "week_52_high": "555.45",
      "week_52_low": "344.79",
      "pe": "37.30",
      "pb": "11.06",
      "eps": "13.64",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.63",
      "total_debt_to_equity": "0.26",
      "revenue_growth_yoy": "14.93",
      "net_profit_margin": "36.15",
      "current_ratio": "1.35",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/aadefe38-c83a-4d91-a596-bfce4c98680e.png",
      "buy_link": "https://public.com/stocks/msft",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Microsoft demonstrates strong revenue growth and exceptional net profit margins, reflecting its dominant position in software and cloud services. Its solid financial health makes it a key technology holding."
      }
    },
    {
      "stock": "NVDA",
      "current_price": 188.32,
      "week_52_high": "195.62",
      "week_52_low": "86.62",
      "pe": "51.40",
      "pb": "44.45",
      "eps": "3.51",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.02",
      "total_debt_to_equity": "0.11",
      "revenue_growth_yoy": "71.55",
      "net_profit_margin": "52.41",
      "current_ratio": "3.67",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/3788045a-adab-4347-a4c6-156803120a24.png",
      "buy_link": "https://public.com/stocks/nvda",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "NVIDIA is selected for its explosive revenue growth and impressive net profit margins, driven by strong demand in AI and gaming. Its high quick ratio indicates excellent liquidity."
      }
    },
    {
      "stock": "GOOGL",
      "current_price": 244.15,
      "week_52_high": "256.00",
      "week_52_low": "140.53",
      "pe": "24.79",
      "pb": "7.89",
      "eps": "9.25",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.34",
      "total_debt_to_equity": "0.04",
      "revenue_growth_yoy": "13.13",
      "net_profit_margin": "31.12",
      "current_ratio": "1.84",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/2eea774d-67bd-44cc-97ff-83f2a915f419.png",
      "buy_link": "https://public.com/stocks/googl",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Alphabet (Google) shows robust revenue growth and strong profit margins, reflecting its market leadership in advertising and cloud services. Its low debt-to-equity ratio signifies financial stability."
      }
    },
    {
      "stock": "JNJ",
      "current_price": 190.9,
      "week_52_high": "192.10",
      "week_52_low": "140.68",
      "pe": "20.27",
      "pb": "5.85",
      "eps": "9.35",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.63",
      "total_debt_to_equity": "0.51",
      "revenue_growth_yoy": "4.68",
      "net_profit_margin": "25.00",
      "current_ratio": "0.78",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/5044d58d-50e6-4abf-a936-58340e00a2a0.png",
      "buy_link": "https://public.com/stocks/jnj",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Johnson & Johnson offers a stable investment with consistent revenue growth, strong profit margins, and a reliable dividend yield. Its diversified healthcare portfolio provides resilience."
      }
    },
    {
      "stock": "MRK",
      "current_price": 85.7,
      "week_52_high": "111.58",
      "week_52_low": "73.31",
      "pe": "13.09",
      "pb": "4.38",
      "eps": "6.49",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "3.74",
      "total_debt_to_equity": "0.80",
      "revenue_growth_yoy": "1.82",
      "net_profit_margin": "25.79",
      "current_ratio": "1.15",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/546e2310-0340-4efa-aca5-369b70af0eed.png",
      "buy_link": "https://public.com/stocks/mrk",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Merck is chosen for its attractive dividend yield and solid net profit margins within the pharmaceutical sector. Its ongoing research and development pipeline supports future growth potential."
      }
    },
    {
      "stock": "ABT",
      "current_price": 131.38,
      "week_52_high": "141.23",
      "week_52_low": "110.86",
      "pe": "16.51",
      "pb": "4.56",
      "eps": "8.01",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "1.72",
      "total_debt_to_equity": "0.30",
      "revenue_growth_yoy": "5.85",
      "net_profit_margin": "32.43",
      "current_ratio": "1.05",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/c467c5da-876a-488e-a1ae-a1d5d3bc07ab.png",
      "buy_link": "https://public.com/stocks/abt",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Abbott Laboratories is a strong performer with excellent profitability and revenue growth, particularly in medical devices and diagnostics. Its healthy balance sheet adds to its investment appeal."
      }
    },
    {
      "stock": "PG",
      "current_price": 147.49,
      "week_52_high": "180.43",
      "week_52_low": "149.45",
      "pe": "21.93",
      "pb": "6.70",
      "eps": "6.51",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.82",
      "total_debt_to_equity": "0.66",
      "revenue_growth_yoy": "0.29",
      "net_profit_margin": "18.95",
      "current_ratio": "0.44",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/b3683496-c2df-45b8-a87d-f70bc5ceb3e0.png",
      "buy_link": "https://public.com/stocks/pg",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Procter & Gamble offers stability with a reliable dividend and strong brand portfolio in essential consumer goods. Its consistent profitability makes it a resilient choice in this sector."
      }
    },
    {
      "stock": "KO",
      "current_price": 66.8,
      "week_52_high": "74.38",
      "week_52_low": "60.62",
      "pe": "23.68",
      "pb": "10.09",
      "eps": "2.82",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.93",
      "total_debt_to_equity": "1.79",
      "revenue_growth_yoy": "1.28",
      "net_profit_margin": "25.89",
      "current_ratio": "0.72",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/e870a344-8910-42fb-b2d3-9d5e0eff4830.png",
      "buy_link": "https://public.com/stocks/ko",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Coca-Cola is a classic consumer staple with a strong global presence and consistent dividend payouts. Its high net profit margin indicates efficient operations and brand power."
      }
    },
    {
      "stock": "PEP",
      "current_price": 148.89,
      "week_52_high": "177.50",
      "week_52_low": "127.60",
      "pe": "28.45",
      "pb": "10.60",
      "eps": "5.26",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "3.68",
      "total_debt_to_equity": "2.46",
      "revenue_growth_yoy": "0.49",
      "net_profit_margin": "7.82",
      "current_ratio": "0.62",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/34044e74-c4fc-4e4c-b2d4-aa6bda6bf82f.png",
      "buy_link": "https://public.com/stocks/pep",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "PepsiCo provides diversification within consumer staples, offering a strong dividend yield and a diversified portfolio of food and beverage brands. Its consistent performance makes it a solid investment."
      }
    },
    {
      "stock": "JPM",
      "current_price": 307.97,
      "week_52_high": "318.01",
      "week_52_low": "202.16",
      "pe": "14.64",
      "pb": "2.32",
      "eps": "19.98",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "1.88",
      "total_debt_to_equity": "2.09",
      "revenue_growth_yoy": "108.98",
      "net_profit_margin": "33.26",
      "current_ratio": "NULL",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/1e3f3cc6-884f-4f8e-ac7f-ab779169b759.png",
      "buy_link": "https://public.com/stocks/jpm",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "JPMorgan Chase is a leading financial institution with exceptional revenue growth and strong profitability. Its robust performance and market leadership make it a key financial holding."
      }
    },
    {
      "stock": "BAC",
      "current_price": 48.86,
      "week_52_high": "52.88",
      "week_52_low": "33.07",
      "pe": "12.84",
      "pb": "1.20",
      "eps": "3.60",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.64",
      "total_debt_to_equity": "2.22",
      "revenue_growth_yoy": "99.37",
      "net_profit_margin": "30.16",
      "current_ratio": "NULL",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/64b084bf-f852-45c5-8570-cc59d0e89c2a.png",
      "buy_link": "https://public.com/stocks/bac",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Bank of America offers a strong dividend yield and impressive revenue growth within the banking sector. Its solid net profit margin and reasonable valuation make it an attractive option."
      }
    },
    {
      "stock": "V",
      "current_price": 343.3,
      "week_52_high": "375.51",
      "week_52_low": "274.42",
      "pe": "32.64",
      "pb": "17.12",
      "eps": "10.24",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.68",
      "total_debt_to_equity": "0.53",
      "revenue_growth_yoy": "11.38",
      "net_profit_margin": "52.16",
      "current_ratio": "1.20",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/297a4989-729f-4ca4-b193-812feeb43e81.png",
      "buy_link": "https://public.com/stocks/v",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Visa, a leader in digital payments, exhibits excellent revenue growth and an outstanding net profit margin. Its strong market position and high return on equity make it a compelling choice."
      }
    },
    {
      "stock": "NEE",
      "current_price": 84.3,
      "week_52_high": "86.00",
      "week_52_low": "61.72",
      "pe": "29.01",
      "pb": "3.38",
      "eps": "2.87",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.59",
      "total_debt_to_equity": "1.64",
      "revenue_growth_yoy": "0.19",
      "net_profit_margin": "22.84",
      "current_ratio": "0.38",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/ae23559c-8910-466b-85c6-6da7444e1806.png",
      "buy_link": "https://public.com/stocks/nee",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "NextEra Energy is a strong utility play with a decent dividend yield and solid profitability. Its focus on renewable energy provides long-term growth potential."
      }
    },
    {
      "stock": "HON",
      "current_price": 202.91,
      "week_52_high": "242.77",
      "week_52_low": "179.36",
      "pe": "22.31",
      "pb": "7.93",
      "eps": "8.79",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.30",
      "total_debt_to_equity": "1.67",
      "revenue_growth_yoy": "7.11",
      "net_profit_margin": "14.30",
      "current_ratio": "1.01",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/a439ec54-5866-454b-b86c-facbe8f194e8.png",
      "buy_link": "https://public.com/stocks/hon",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Honeywell is a diversified technology and manufacturing company with good revenue growth and profitability. Its strong presence in various industrial sectors makes it a resilient infrastructure investment."
      }
    },
    {
      "stock": "UPS",
      "current_price": 83.18,
      "week_52_high": "145.01",
      "week_52_low": "82.00",
      "pe": "12.26",
      "pb": "4.46",
      "eps": "6.72",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "7.68",
      "total_debt_to_equity": "1.27",
      "revenue_growth_yoy": "0.91",
      "net_profit_margin": "6.34",
      "current_ratio": "1.17",
      "chart": "https://r2.chart-img.com/20251028/tradingview/advanced-chart/aeadf4ea-a6fc-44ee-83a4-ff154bf76e9e.png",
      "buy_link": "https://public.com/stocks/ups",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "UPS offers a very attractive dividend yield and stable performance in the logistics and shipping industry. Its critical role in global supply chains provides consistent demand."
      }
    }
  ],
  "mutual_funds_selected": [],
  "crypto_selected": [
    {
      "id": "bitcoin",
      "name": "Bitcoin",
      "symbol": "BTC",
      "current_price": 112682,
      "roi": "N/A",
      "buy_link": "https://www.coinbase.com/price/bitcoin",
      "summary": "Bitcoin, the pioneer cryptocurrency, is selected for its store-of-value potential and increasing institutional adoption, serving as a foundational digital asset."
    },
    {
      "id": "ethereum",
      "name": "Ethereum",
      "symbol": "ETH",
      "current_price": 4083.05,
      "roi": "+4745.44%",
      "buy_link": "https://www.coinbase.com/price/ethereum",
      "summary": "Ethereum is included for its robust ecosystem, powering decentralized applications and smart contracts, offering significant long-term growth potential in the digital economy."
    },
    {
      "id": "solana",
      "name": "Solana",
      "symbol": "SOL",
      "current_price": "N/A (data not available from tool)",
      "roi": "N/A (data not available from tool)",
      "buy_link": "https://www.coinbase.com/price/solana",
      "summary": "Solana is chosen for its high throughput and low transaction costs, making it a promising platform for decentralized applications and a potential high-growth asset."
    },
    {
      "id": "cardano",
      "name": "Cardano",
      "symbol": "ADA",
      "current_price": "N/A (data not available from tool)",
      "roi": "N/A (data not available from tool)",
      "buy_link": "https://www.coinbase.com/price/cardano",
      "summary": "Cardano is selected for its strong focus on research-driven development and sustainability, aiming to provide a secure and scalable blockchain platform for future innovation."
    },
    {
      "id": "chainlink",
      "name": "Chainlink",
      "symbol": "LINK",
      "current_price": "N/A (data not available from tool)",
      "roi": "N/A (data not available from tool)",
      "buy_link": "https://www.coinbase.com/price/chainlink",
      "summary": "Chainlink provides decentralized oracles, crucial for connecting smart contracts with real-world data, making it an essential infrastructure component for the broader Web3 ecosystem."
    }
  ],
  "bond_mutual_funds": {
    "summary": "No allocation to bond mutual funds in this portfolio."
  },
  "Gold": {
    "summary": "No allocation to gold in this portfolio."
  },
  "what_if_analysis": {
    "conservative_return": "5% return: $1000 profit, total value $21000",
    "moderate_return": "8% return: $1600 profit, total value $21600",
    "optimistic_return": "12% return: $2400 profit, total value $22400",
    "quickchart_url": "https://quickchart.io/chart?c={type:'bar',data:{labels:['Conservative (5%)','Moderate (8%)','Optimistic (12%)'],datasets:[{label:'Projected Value',data:[21000,21600,22400]}]}}"
  },
  "summary": "This diversified portfolio allocates 3% to high-growth cryptocurrencies for potential upside and 97% to a carefully selected stock portfolio across various sectors. The stock selections prioritize companies with strong financial metrics, consistent growth, and reasonable valuations for a medium-risk, long-term investment strategy. The healthcare and consumer staples allocations provide defensive stability, while technology and financials offer growth potential. Utilities/infrastructure provide consistent income and stability. This portfolio is aligned with a moderate risk profile, seeking growth while maintaining some stability.",
  "risk_analysis": {
    "mild_crash": "10% drop: $2000 lost, remaining value $18000",
    "moderate_crash": "20% drop: $4000 lost, remaining value $16000",
    "severe_crash": "30% drop: $6000 lost, remaining value $14000",
    "summary": "The portfolio has a moderate risk profile due to its significant allocation to equities and a smaller portion to volatile cryptocurrencies. While diversified across sectors, a market downturn can still impact overall value. It is crucial to regularly rebalance and review the portfolio to align with risk tolerance and market conditions.",
    "quickchart_url": "https://quickchart.io/chart?c={type:'bar',data:{labels:['Mild Crash (10%)','Moderate Crash (20%)','Severe Crash (30%)'],datasets:[{label:'Portfolio Value After Crash',data:[18000,16000,14000]}]}}"
  },
  "education_tips": {
    "diversification_importance": "Diversification across different asset classes (stocks, crypto, etc.) and sectors helps reduce overall portfolio risk. When one asset class underperforms, others may compensate, leading to more stable returns over time.",
    "long_term_perspective": "Investing with a long-term horizon (5+ years) allows your investments to ride out short-term market fluctuations and benefit from compounding returns. Patience is key in wealth creation.",
    "rebalancing_strategy": "Regularly rebalancing your portfolio (e.g., annually) ensures your asset allocation remains aligned with your original targets and risk tolerance. This involves selling assets that have performed well and buying those that have underperformed to maintain desired percentages.",
    "understanding_risk": "All investments carry some level of risk. Understand that higher potential returns often come with higher risk. Assess your personal risk tolerance and invest only what you are comfortable losing. Educate yourself about the assets you hold."
  }
}
  </script>

  <script>
    const data = JSON.parse(document.getElementById('portfolio-data').textContent.trim());

    // Summary
    document.getElementById('summaryText').textContent = data.summary;

    // Allocation
    const alloc = data.allocation;
    const allocEl = document.getElementById('allocationList');
    allocEl.innerHTML = `
      <div><strong>Stocks:</strong> ${alloc.equity_sleeves.stocks}</div>
      <div><strong>Mutual Funds:</strong> ${alloc.equity_sleeves.mutual_funds}</div>
      <div><strong>Crypto:</strong> ${alloc.diversifiers.crypto || '0%'}</div>
      <div><strong>Bond MF:</strong> ${alloc.diversifiers.bond_mutual_funds}</div>
      <div><strong>Gold:</strong> ${alloc.diversifiers.gold}</div>
    `;

    // Allocation chart
    document.getElementById('allocationChart').src = data.chart_url_allocation;

    // Risk analysis
    document.getElementById('riskSummary').textContent = data.risk_analysis.summary;
    document.getElementById('riskChart').src = data.risk_analysis.quickchart_url;

    // What-if analysis
    const whatIf = data.what_if_analysis;
    document.getElementById('whatIfText').innerHTML = `
      <div class="text-sm muted"><strong>Conservative:</strong> ${whatIf.conservative_return || ''}</div>
      <div class="text-sm muted"><strong>Moderate:</strong> ${whatIf.moderate_return || ''}</div>
      <div class="text-sm muted"><strong>Optimistic:</strong> ${whatIf.optimistic_return || ''}</div>
    `;
    document.getElementById('whatIfChart').src = whatIf.quickchart_url || '';

    // Education tips
    const tipsEl = document.getElementById('educationTips');
    tipsEl.innerHTML = '';
    for (const tip of Object.values(data.education_tips)) {
      const li = document.createElement('li');
      li.textContent = tip;
      tipsEl.appendChild(li);
    }

    // Stocks grid
    const stocksGrid = document.getElementById('stocksGrid');
    stocksGrid.innerHTML = '';
    (data.stocks_selected || []).forEach(s => {
      const card = document.createElement('div');
      card.className = 'p-4 card';
      card.innerHTML = `
        <div class="flex items-start justify-between">
          <div>
            <h3 class="text-md font-semibold">${s.stock}</h3>
            <div class="muted text-sm">Price: ${s.current_price}</div>
            <div class="muted text-sm">PE: ${s.pe} • PB: ${s.pb}</div>
          </div>
          <div class="text-right">
            <a href="${s.buy_link || '#'}" target="_blank" class="text-sm underline">Buy</a>
          </div>
        </div>
        <p class="mt-2 text-sm muted">${s.analysis_summary?.['reason_for_selection(2-3 lines)'] || ''}</p>
        <div class="mt-3">
          <img src="${s.chart}" alt="${s.stock} chart" class="chart-img" />
        </div>
        <div class="mt-3 text-sm muted grid grid-cols-2 gap-2">
          <div><strong>52w High:</strong> ${s.week_52_high || 'N/A'}</div>
          <div><strong>52w Low:</strong> ${s.week_52_low || 'N/A'}</div>
          <div><strong>Dividend:</strong> ${s.dividend_yield || 'N/A'}</div>
          <div><strong>Debt/Equity:</strong> ${s.total_debt_to_equity || 'N/A'}</div>
        </div>
      `;
      stocksGrid.appendChild(card);
    });

    // Mutual funds
    const mfList = document.getElementById('mfList');
    mfList.innerHTML = '';
    (data.mutual_funds_selected || []).forEach(m => {
      const el = document.createElement('div');
      el.className = 'p-3 border-card rounded';
      el.innerHTML = `
        <div class="text-sm font-medium">${m.name}</div>
        <div class="muted text-xs">${m.category} • 3y: ${m['3_year_return']} • 5y: ${m['5_year_return']}</div>
        <div class="mt-2 text-sm muted">${m.reason_for_investment}</div>
      `;
      mfList.appendChild(el);
    });

    // Diversifiers (Crypto, Gold, Bond MF)
    const diversifiersEl = document.getElementById('diversifiersList');
    diversifiersEl.innerHTML = '';

    // --- Crypto ---
    (data.crypto_selected || []).forEach(c => {
      const el = document.createElement('div');
      el.className = 'p-3 border-card rounded';
      el.innerHTML = `
        <div class="flex justify-between items-center">
          <div>
            <div class="text-sm font-medium">${c.name} (${c.symbol.toUpperCase()})</div>
            <div class="muted text-xs">Price: ${c.current_price.toLocaleString()} USD</div>
          </div>
          <a href="${c.buy_link}" target="_blank" class="text-xs underline">Buy</a>
        </div>
        <div class="mt-2 text-sm muted">ROI: ${c.roi || 'N/A'}</div>
      `;
      diversifiersEl.appendChild(el);
    });

    // --- Gold ---
    if (data.allocation.diversifiers.gold) {
      const goldEl = document.createElement('div');
      goldEl.className = 'p-3 border-card rounded';
      goldEl.innerHTML = `
        <div class="text-sm font-medium">Gold</div>
        <div class="muted text-xs">Allocation: ${data.allocation.diversifiers.gold}</div>
        <div class="muted text-xs">WHY: ${data.Gold.summary}</div>
      `;
      diversifiersEl.appendChild(goldEl);
    }

    // --- Bond Mutual Funds ---
    if (data.allocation.diversifiers.bond_mutual_funds) {
      const bondEl = document.createElement('div');
      bondEl.className = 'p-3 border-card rounded';
      bondEl.innerHTML = `
        <div class="text-sm font-medium">Bond Mutual Funds</div>
        <div class="muted text-xs">Allocation: ${data.allocation.diversifiers.bond_mutual_funds}</div>
        <div class="muted text-xs">WHY: ${data.bond_mutual_funds.summary}</div>
      `;
      diversifiersEl.appendChild(bondEl);
    }
  </script>
</body>
</html>
