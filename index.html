
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #111827; color: #f3f4f6; }
    .card { background: #1f2937; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
    .muted { color: #d1d5db; }
    .chip { background: rgba(255,255,255,0.1); padding: 0.25rem 0.5rem; border-radius: 999px; font-size: 0.75rem; }
    .chart-img { max-width: 100%; height: auto; border-radius: 8px; }
    .border-card { border: 1px solid rgba(255,255,255,0.2); }
  </style>
</head>
<body class="p-6">
  <div class="max-w-6xl mx-auto">
    <header class="mb-6">
      <h1 class="text-2xl font-semibold">Portfolio Dashboard</h1>
      <p class="text-sm muted">BY AJTITAN</p>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left Column: Summary + Allocation -->
      <section class="lg:col-span-1 space-y-4">
        <div class="card p-4">
          <h2 class="text-lg font-medium">Summary</h2>
          <p id="summaryText" class="mt-2 text-sm muted"></p>
          <div class="mt-4">
            <h3 class="text-sm font-medium">Allocation</h3>
            <div id="allocationList" class="mt-2 space-y-2 text-sm"></div>
            <div class="mt-3">
              <img id="allocationChart" class="chart-img" alt="Allocation Chart" />
            </div>
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Risk Analysis</h2>
          <div id="riskSummary" class="mt-2 text-sm muted"></div>
          <div class="mt-3">
            <img id="riskChart" class="chart-img" alt="Risk Chart" />
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Education Tips</h2>
          <ul id="educationTips" class="mt-2 text-sm list-disc list-inside muted"></ul>
        </div>
      </section>

      <!-- Middle Column: Stocks + What-if + Mutual Funds + Diversifiers -->
      <section class="lg:col-span-2 space-y-4">
        <div class="card p-4">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-medium">Stocks Selected</h2>
            <span id="equityChip" class="chip">Equity Sleeve</span>
          </div>
          <div id="stocksGrid" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">What-if Analysis</h2>
          <div id="whatIfText" class="mt-2 text-sm muted"></div>
          <div class="mt-3">
            <img id="whatIfChart" class="chart-img" alt="What-if Chart" />
          </div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Mutual Funds</h2>
          <div id="mfList" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3"></div>
        </div>

        <div class="card p-4">
          <h2 class="text-lg font-medium">Diversifiers</h2>
          <div id="diversifiersList" class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3"></div>
        </div>
      </section>
    </main>

    <footer class="mt-6 text-sm muted text-center">
      Generated view — charts are loaded from QuickChart / TradingView links present in the JSON.
    </footer>
  </div>

  <!-- Embedded JSON data -->
  <script id="portfolio-data" type="application/json">
   {
  "allocation": {
    "equity_sleeves": {
      "stocks": "40% and 20000 USD",
      "mutual_funds": "30% and 15000 USD"
    },
    "diversifiers": {
      "crypto": "0% and 0 USD",
      "gold": "15% and 7500 USD",
      "bond_mutual_funds": "15% and 7500 USD"
    }
  },
  "chart_url_allocation": "https://quickchart.io/chart?c={type:'pie',data:{labels:['Stocks','Mutual Funds','Gold','Fixed Deposit'],datasets:[{data:[40,30,15,15]}]}}",
  "stocks_selected": [
    {
      "stock": "MSFT",
      "current_price": 513.16,
      "week_52_high": "555.45",
      "week_52_low": "344.79",
      "pe": "37.30",
      "pb": "11.06",
      "eps": "13.64",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.63",
      "total_debt_to_equity": "0.26",
      "revenue_growth_yoy": "14.93",
      "net_profit_margin": "36.15",
      "current_ratio": "1.35",
      "chart": "https://r2.chart-img.com/20251027/tradingview/advanced-chart/c89187d1-73a5-4b28-a50a-204531aa2d6c.png",
      "buy_link": "https://public.com/stocks/msft",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Microsoft demonstrates strong revenue growth and high net profit margins with manageable debt, indicating robust financial health. Its consistent innovation in cloud computing and enterprise software positions it well for continued growth."
      }
    },
    {
      "stock": "GOOGL",
      "current_price": 240.59,
      "week_52_high": "256.00",
      "week_52_low": "140.53",
      "pe": "24.79",
      "pb": "7.89",
      "eps": "9.25",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "0.34",
      "total_debt_to_equity": "0.04",
      "revenue_growth_yoy": "13.13",
      "net_profit_margin": "31.12",
      "current_ratio": "1.84",
      "chart": "https://r2.chart-img.com/20251027/tradingview/advanced-chart/10266862-52a6-409b-a015-a765264e27c3.png",
      "buy_link": "https://public.com/stocks/googl",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Alphabet (Google) maintains a strong market position with consistent revenue growth and excellent profitability. Its minimal debt and diverse business segments, including search and cloud services, provide stability and future growth potential."
      }
    },
    {
      "stock": "AMZN",
      "current_price": 218.25,
      "week_52_high": "242.52",
      "week_52_low": "161.38",
      "pe": "32.67",
      "pb": "6.91",
      "eps": "6.55",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "null",
      "total_debt_to_equity": "0.27",
      "revenue_growth_yoy": "10.87",
      "net_profit_margin": "10.54",
      "current_ratio": "0.84",
      "chart": "https://r2.chart-img.com/20251027/tradingview/advanced-chart/c2772f9e-861e-445e-9041-534cfcf76a3d.png",
      "buy_link": "https://public.com/stocks/amzn",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Amazon continues to show strong revenue growth driven by its e-commerce and cloud computing segments. Its reasonable valuation metrics and ongoing expansion into new markets suggest continued upside potential."
      }
    },
    {
      "stock": "JNJ",
      "current_price": 190.62,
      "week_52_high": "192.10",
      "week_52_low": "140.68",
      "pe": "20.27",
      "pb": "5.85",
      "eps": "9.35",
      "roe": "N/A",
      "roa": "N/A",
      "dividend_yield": "2.63",
      "total_debt_to_equity": "0.51",
      "revenue_growth_yoy": "4.68",
      "net_profit_margin": "25.00",
      "current_ratio": "0.78",
      "chart": "https://r2.chart-img.com/20251027/tradingview/advanced-chart/e8c48677-6747-4544-a91e-b7481e32b0c4.png",
      "buy_link": "https://public.com/stocks/jnj",
      "analysis_summary": {
        "reason_for_selection(2-3 lines)": "Johnson & Johnson is a stable healthcare giant with consistent profitability and a strong dividend yield. Its diversified product portfolio and moderate debt-to-equity ratio provide a defensive anchor for a moderate risk portfolio."
      }
    }
  ],
  "mutual_funds_selected": [
    {
      "name": "Vanguard Total Stock Market Index Fund Admiral Shares",
      "category": "Total Market",
      "3_year_return": "13",
      "5_year_return": "15",
      "reason_for_investment": "VTSAX offers broad exposure to the entire U.S. stock market, providing excellent diversification and aligning with the target 15% return over 5 years. Its low-cost structure and comprehensive market coverage make it a solid choice for long-term growth with moderate risk."
    }
  ],
  "crypto_selected": [],
  "bond_mutual_funds": {
    "summary": "Fixed deposit allocation provides capital preservation and stable, predictable returns, serving as a low-risk component in the portfolio."
  },
  "Gold": {
    "summary": "Gold serves as a traditional safe-haven asset, offering protection against inflation and market volatility, enhancing the portfolio's stability."
  },
  "what_if_analysis": {
    "conservative_return": "5% return calculation + total value (52500 USD)",
    "moderate_return": "8% return calculation + total value (54000 USD)",
    "optimistic_return": "12% return calculation + total value (56000 USD)",
    "quickchart_url": "https://quickchart.io/chart?c={type:'bar',data:{labels:['Conservative (5%)','Moderate (8%)','Optimistic (12%)'],datasets:[{label:'Projected Value',data:[52500,54000,56000]}]}}"
  },
  "summary": "This portfolio of 50,000 USD for 5 years at moderate risk aims for a 15% return. It allocates 70% to equity (40% stocks, 30% mutual funds) and 30% to diversifiers (15% gold, 15% fixed deposit). The selected stocks (MSFT, GOOGL, AMZN, JNJ) offer a mix of growth and stability, while VTSAX provides broad market exposure through mutual funds, all chosen for their strong financial metrics and growth potential.",
  "risk_analysis": {
    "mild_crash": "10% drop, 5000 USD lost, portfolio value 45000 USD",
    "moderate_crash": "20% drop, 10000 USD lost, portfolio value 40000 USD",
    "severe_crash": "30% drop, 15000 USD lost, portfolio value 35000 USD",
    "summary": "This portfolio is designed for moderate risk. While diversified, market downturns can still impact its value. The presence of gold and fixed deposits helps mitigate some of the equity market volatility, but a severe crash could still result in significant capital reduction. Regular rebalancing and a long-term perspective are crucial for navigating such events.",
    "quickchart_url": "https://quickchart.io/chart?c={type:'bar',data:{labels:['Mild Crash (10%)','Moderate Crash (20%)','Severe Crash (30%)'],datasets:[{label:'Portfolio Value After Crash',data:[45000,40000,35000]}]}}"
  },
  "education_tips": {
    "diversification_importance": "Diversification across different asset classes (stocks, mutual funds, gold, fixed deposits) helps reduce overall portfolio risk. When one asset class underperforms, others may perform well, balancing the portfolio's returns.",
    "long_term_perspective": "Investing for the long term (e.g., 5 years or more) allows your investments to recover from short-term market fluctuations and benefit from compounding returns, which is crucial for wealth accumulation.",
    "rebalancing_strategy": "Regularly rebalancing your portfolio (e.g., annually) ensures that your asset allocation remains aligned with your initial risk tolerance and financial goals. This involves selling assets that have performed well and buying those that have underperformed to restore the target percentages.",
    "understanding_risk": "Every investment carries some level of risk. Understanding the potential for loss and aligning your investments with your personal risk tolerance is essential. Never invest more than you can afford to lose, and be prepared for market volatility."
  }
}
  </script>

  <script>
    const data = JSON.parse(document.getElementById('portfolio-data').textContent.trim());

    // Summary
    document.getElementById('summaryText').textContent = data.summary;

    // Allocation
    const alloc = data.allocation;
    const allocEl = document.getElementById('allocationList');
    allocEl.innerHTML = `
      <div><strong>Stocks:</strong> ${alloc.equity_sleeves.stocks}</div>
      <div><strong>Mutual Funds:</strong> ${alloc.equity_sleeves.mutual_funds}</div>
      <div><strong>Crypto:</strong> ${alloc.diversifiers.crypto || '0%'}</div>
      <div><strong>Bond MF:</strong> ${alloc.diversifiers.bond_mutual_funds}</div>
      <div><strong>Gold:</strong> ${alloc.diversifiers.gold}</div>
    `;

    // Allocation chart
    document.getElementById('allocationChart').src = data.chart_url_allocation;

    // Risk analysis
    document.getElementById('riskSummary').textContent = data.risk_analysis.summary;
    document.getElementById('riskChart').src = data.risk_analysis.quickchart_url;

    // What-if analysis
    const whatIf = data.what_if_analysis;
    document.getElementById('whatIfText').innerHTML = `
      <div class="text-sm muted"><strong>Conservative:</strong> ${whatIf.conservative_return || ''}</div>
      <div class="text-sm muted"><strong>Moderate:</strong> ${whatIf.moderate_return || ''}</div>
      <div class="text-sm muted"><strong>Optimistic:</strong> ${whatIf.optimistic_return || ''}</div>
    `;
    document.getElementById('whatIfChart').src = whatIf.quickchart_url || '';

    // Education tips
    const tipsEl = document.getElementById('educationTips');
    tipsEl.innerHTML = '';
    for (const tip of Object.values(data.education_tips)) {
      const li = document.createElement('li');
      li.textContent = tip;
      tipsEl.appendChild(li);
    }

    // Stocks grid
    const stocksGrid = document.getElementById('stocksGrid');
    stocksGrid.innerHTML = '';
    (data.stocks_selected || []).forEach(s => {
      const card = document.createElement('div');
      card.className = 'p-4 card';
      card.innerHTML = `
        <div class="flex items-start justify-between">
          <div>
            <h3 class="text-md font-semibold">${s.stock}</h3>
            <div class="muted text-sm">Price: ${s.current_price}</div>
            <div class="muted text-sm">PE: ${s.pe} • PB: ${s.pb}</div>
          </div>
          <div class="text-right">
            <a href="${s.buy_link || '#'}" target="_blank" class="text-sm underline">Buy</a>
          </div>
        </div>
        <p class="mt-2 text-sm muted">${s.analysis_summary?.['reason_for_selection(2-3 lines)'] || ''}</p>
        <div class="mt-3">
          <img src="${s.chart}" alt="${s.stock} chart" class="chart-img" />
        </div>
        <div class="mt-3 text-sm muted grid grid-cols-2 gap-2">
          <div><strong>52w High:</strong> ${s.week_52_high || 'N/A'}</div>
          <div><strong>52w Low:</strong> ${s.week_52_low || 'N/A'}</div>
          <div><strong>Dividend:</strong> ${s.dividend_yield || 'N/A'}</div>
          <div><strong>Debt/Equity:</strong> ${s.total_debt_to_equity || 'N/A'}</div>
        </div>
      `;
      stocksGrid.appendChild(card);
    });

    // Mutual funds
    const mfList = document.getElementById('mfList');
    mfList.innerHTML = '';
    (data.mutual_funds_selected || []).forEach(m => {
      const el = document.createElement('div');
      el.className = 'p-3 border-card rounded';
      el.innerHTML = `
        <div class="text-sm font-medium">${m.name}</div>
        <div class="muted text-xs">${m.category} • 3y: ${m['3_year_return']} • 5y: ${m['5_year_return']}</div>
        <div class="mt-2 text-sm muted">${m.reason_for_investment}</div>
      `;
      mfList.appendChild(el);
    });

    // Diversifiers (Crypto, Gold, Bond MF)
    const diversifiersEl = document.getElementById('diversifiersList');
    diversifiersEl.innerHTML = '';

    // --- Crypto ---
    (data.crypto_selected || []).forEach(c => {
      const el = document.createElement('div');
      el.className = 'p-3 border-card rounded';
      el.innerHTML = `
        <div class="flex justify-between items-center">
          <div>
            <div class="text-sm font-medium">${c.name} (${c.symbol.toUpperCase()})</div>
            <div class="muted text-xs">Price: ${c.current_price.toLocaleString()} USD</div>
          </div>
          <a href="${c.buy_link}" target="_blank" class="text-xs underline">Buy</a>
        </div>
        <div class="mt-2 text-sm muted">ROI: ${c.roi || 'N/A'}</div>
      `;
      diversifiersEl.appendChild(el);
    });

    // --- Gold ---
    if (data.allocation.diversifiers.gold) {
      const goldEl = document.createElement('div');
      goldEl.className = 'p-3 border-card rounded';
      goldEl.innerHTML = `
        <div class="text-sm font-medium">Gold</div>
        <div class="muted text-xs">Allocation: ${data.allocation.diversifiers.gold}</div>
        <div class="muted text-xs">WHY: ${data.Gold.summary}</div>
      `;
      diversifiersEl.appendChild(goldEl);
    }

    // --- Bond Mutual Funds ---
    if (data.allocation.diversifiers.bond_mutual_funds) {
      const bondEl = document.createElement('div');
      bondEl.className = 'p-3 border-card rounded';
      bondEl.innerHTML = `
        <div class="text-sm font-medium">Bond Mutual Funds</div>
        <div class="muted text-xs">Allocation: ${data.allocation.diversifiers.bond_mutual_funds}</div>
        <div class="muted text-xs">WHY: ${data.bond_mutual_funds.summary}</div>
      `;
      diversifiersEl.appendChild(bondEl);
    }
  </script>
</body>
</html>
